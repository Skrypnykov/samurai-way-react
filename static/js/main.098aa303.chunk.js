(this["webpackJsonpsamurai-way-react"]=this["webpackJsonpsamurai-way-react"]||[]).push([[0],{102:function(e,t,n){e.exports={container:"Preloader_container__1fq9g",preloader:"Preloader_preloader__1_D0u"}},105:function(e,t,n){e.exports={dialog:"DialogItem_dialog__8qC4u",activeLink:"DialogItem_activeLink__cyvux"}},12:function(e,t,n){e.exports={header:"ProfileInfo_header__1MJ9f",description:"ProfileInfo_description__1FWdy",avatar:"ProfileInfo_avatar__289cO",content:"ProfileInfo_content__leN5h",contentTitle:"ProfileInfo_contentTitle__1FFwa",contentItem:"ProfileInfo_contentItem__1XmK7",contentData:"ProfileInfo_contentData__26g3e",socialNetwork:"ProfileInfo_socialNetwork__31c45",facebook:"ProfileInfo_facebook__3Ces_",website:"ProfileInfo_website__VMjUj",vk:"ProfileInfo_vk__3mOPT",twitter:"ProfileInfo_twitter__18bi0",instagram:"ProfileInfo_instagram__2rj5p",youtube:"ProfileInfo_youtube__2IJCP",github:"ProfileInfo_github__23xoF",mainLink:"ProfileInfo_mainLink__1dGad",switch:"ProfileInfo_switch__3nDNV",slider:"ProfileInfo_slider__27asz",switchInput:"ProfileInfo_switchInput__3QRJp"}},143:function(e,t,n){e.exports={wrap:"Profile_wrap__3GM7T"}},146:function(e,t,n){e.exports={message:"Message_message__28aa8"}},147:function(e,t,n){e.exports={title:"News_title__1W7rS"}},148:function(e,t,n){e.exports={title:"Music_title__fVbPg"}},150:function(e,t,n){e.exports={title:"Settings_title__Z9KHv"}},17:function(e,t,n){e.exports={nav:"Navbar_nav__1dWpI",list:"Navbar_list__16LHF",item:"Navbar_item__3UZIM",activeLink:"Navbar_activeLink__3i75j"}},181:function(e,t,n){},24:function(e,t,n){e.exports={buttonGet:"Users_buttonGet__Mqqoq",wrap:"Users_wrap__1gcSF",wrapUser:"Users_wrapUser__2LuIu",avatar:"Users_avatar__1xz_T",wrapButton:"Users_wrapButton__2FJ1O",wrapDescription:"Users_wrapDescription__3vXkl",fullName:"Users_fullName__CktC1",statusUser:"Users_statusUser__1amE0",alignment:"Users_alignment__2uVOl",country:"Users_country__SXPsp",city:"Users_city__tBoZY"}},26:function(e,t,n){e.exports={wrap:"Login_wrap__2wDKw",form:"Login_form__3vW3u",formItemInput:"Login_formItemInput__j0vER",formCheckbox:"Login_formCheckbox__2l9AF",formCheckboxLabel:"Login_formCheckboxLabel__QhBhk",formCheckboxInput:"Login_formCheckboxInput__3eRiq",formLoginButton:"Login_formLoginButton__3lMhy",formControlError:"Login_formControlError__2_HYW"}},263:function(e,t,n){},312:function(e,t,n){"use strict";n.r(t);var a=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,313)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),s(e),r(e),o(e)}))},s=n(1),r=n.n(s),o=n(76),i=n.n(o),c=(n(181),n(29)),u=n(30),l=n(31),j=n(32),d=n(10),b=n(14),f=n(13),p=n(9),m=n(20),h=n(37),g=n(4),O=n(11),_=n.n(O),x=n(139).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"a8051bff-0f4f-4056-b54f-7f5326bdab8d"}}),v={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return x.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return x.post("follow/".concat(e))},unfollow:function(e){return x.delete("follow/".concat(e))}},w=function(e){return x.get("profile/"+e)},N=function(e){return x.get("profile/status/"+e)},P=function(e){return x.put("profile/status",{status:e})},k=function(){return x.get("auth/me")},I=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return x.post("auth/login",{email:e,password:t,rememberMe:n})},y=function(){return x.delete("auth/login")},C=n.p+"static/media/avatar-female.69e4a8d2.png",S=n.p+"static/media/avatar-friend.db419fa6.png",L=n.p+"static/media/avatar-of-nurse.3601435d.png",U=n.p+"static/media/avatar-cartoon-eyes-female.03b8f595.png",T="samurai-network/profile/SET_USER_PROFILE",E="samurai-network/profile/ADD-POST",D="samurai-network/profile/SET_STATUS",F="samurai-network/profile/DELETE_POST",M={postsData:[{id:1,avatar:C,message:"Hey, why nobody love me?",like:11,dislike:0},{id:2,avatar:S,message:"It's our new program! Hey!",like:9,dislike:1},{id:3,avatar:L,message:"Hi, It's my first post!",like:21,dislike:2}],profile:null,status:""},A=function(e){return{type:D,status:e}},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:var n={id:4,avatar:U,message:t.newPostText,like:0,dislike:0};return Object(g.a)(Object(g.a)({},e),{},{postsData:[].concat(Object(h.a)(e.postsData),[n])});case D:return Object(g.a)(Object(g.a)({},e),{},{status:t.status});case T:return Object(g.a)(Object(g.a)({},e),{},{profile:t.profile});case F:return Object(g.a)(Object(g.a)({},e),{},{posts:e.postsData.filter((function(e){return e.id!==t.postId}))});default:return e}},z="SEND-MESSAGE",R={dialogsData:[{id:1,name:"Oleh"},{id:2,name:"Hanna"},{id:3,name:"Iryna"},{id:4,name:"Serge"},{id:5,name:"Niklas"},{id:6,name:"Manuel"},{id:7,name:"Tomas"},{id:8,name:"Robert"}],messagesData:[{id:1e3,message:"Hi!!!"},{id:1001,message:"How are you?"},{id:1002,message:"Very well!"},{id:1003,message:"Yo"},{id:1004,message:"Yo"},{id:1005,message:"Yo"}]},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;if(t.type===z){var n=t.newMessageBody;return Object(g.a)(Object(g.a)({},e),{},{messagesData:[].concat(Object(h.a)(e.messagesData),[{id:1006,message:n}])})}return e},G={},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G;return e},q=function(e,t,n,a){return e.map((function(e){return e[n]===t?Object(g.a)(Object(g.a)({},e),a):e}))},Y="samurai-network/follow/FOLLOW",J="samurai-network/follow/UNFOLLOW",V="samurai-network/users/SET_USERS",X="SET_CURRENT_PAGE",Z="SET_TOTAL_USERS_COUNT",K="TOGGLE_IS_FETCHING",Q="TOGGLE_IS_FOLLOWING_PROGRESS",$={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[]},ee=function(e){return{type:Y,userId:e}},te=function(e){return{type:J,userId:e}},ne=function(e){return{type:X,currentPage:e}},ae=function(e){return{type:K,isFetching:e}},se=function(e,t){return{type:Q,isFetching:e,userId:t}},re=function(){var e=Object(m.a)(_.a.mark((function e(t,n,a,s){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(se(!0,n)),e.next=3,a(n);case 3:0===e.sent.data.resultCode&&t(s(n)),t(se(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,s){return e.apply(this,arguments)}}(),oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return Object(g.a)(Object(g.a)({},e),{},{users:q(e.users,t.userId,"id",{followed:!0})});case J:return Object(g.a)(Object(g.a)({},e),{},{users:q(e.users,t.userId,"id",{followed:!1})});case V:return Object(g.a)(Object(g.a)({},e),{},{users:t.users});case X:return Object(g.a)(Object(g.a)({},e),{},{currentPage:t.currentPage});case Z:return Object(g.a)(Object(g.a)({},e),{},{totalUsersCount:t.count});case K:return Object(g.a)(Object(g.a)({},e),{},{isFetching:t.isFetching});case Q:return Object(g.a)(Object(g.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(h.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},ie=n(42),ce="samurai-network/auth/SET_USER_DATA",ue={userId:null,email:null,login:null,isAuth:!1},le=function(e,t,n,a){return{type:ce,payload:{userId:e,email:t,login:n,isAuth:a}}},je=function(){return function(){var e=Object(m.a)(_.a.mark((function e(t){var n,a,s,r,o;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:0===(n=e.sent).data.resultCode&&(a=n.data.data,s=a.id,r=a.email,o=a.login,t(le(s,r,o,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;return t.type===ce?Object(g.a)(Object(g.a)({},e),t.payload):e},be="INITIALIZED_SUCCESS",fe={initialized:!1},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;return t.type===be?Object(g.a)(Object(g.a)({},e),{},{initialized:!0}):e},me=n(141),he=n(137),ge=Object(p.c)({profilePage:B,dialogsPage:H,usersPage:oe,sidebar:W,auth:de,form:he.a,app:pe}),Oe=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||p.d,_e=Object(p.e)(ge,Oe(Object(p.a)(me.a)));window.__store__=_e;var xe=_e,ve=(n(263),n(44)),we=n.n(ve),Ne=n.p+"static/media/logo-django.03d5cf41.svg",Pe=n(0),ke=function(e){return Object(Pe.jsxs)("header",{className:we.a.header,children:[Object(Pe.jsxs)("div",{className:we.a.logo,children:[Object(Pe.jsx)("h1",{children:"The Social Network"}),Object(Pe.jsx)("img",{src:Ne,alt:""})]}),Object(Pe.jsx)("div",{className:we.a.loginBlock,children:e.isAuth?Object(Pe.jsxs)("div",{className:we.a.logIn,children:[e.login," \xa0 ",Object(Pe.jsx)("button",{className:we.a.logOutButton,onClick:e.logout,children:"Log out"})]}):Object(Pe.jsx)(b.b,{className:we.a.loginLink,to:"/login",children:"Login"})})]})},Ie=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(Pe.jsx)(ke,Object(g.a)({},this.props))}}]),n}(r.a.Component),ye=Object(f.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(m.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:0===e.sent.data.resultCode&&t(le(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Ie),Ce=n(17),Se=n.n(Ce),Le=function(){return Object(Pe.jsx)("nav",{className:Se.a.nav,children:Object(Pe.jsxs)("ul",{className:Se.a.list,children:[Object(Pe.jsx)("li",{className:Se.a.item,children:Object(Pe.jsx)(b.b,{to:"/profile",activeClassName:Se.a.activeLink,children:"Profile"})}),Object(Pe.jsx)("li",{className:Se.a.item,children:Object(Pe.jsx)(b.b,{to:"/dialogs",activeClassName:Se.a.activeLink,children:"Messages"})}),Object(Pe.jsx)("li",{className:Se.a.item,children:Object(Pe.jsx)(b.b,{to:"/users",activeClassName:Se.a.activeLink,children:"Users"})}),Object(Pe.jsx)("li",{className:Se.a.item,children:Object(Pe.jsx)(b.b,{to:"/news",activeClassName:Se.a.activeLink,children:"News"})}),Object(Pe.jsx)("li",{className:Se.a.item,children:Object(Pe.jsx)(b.b,{to:"/music",activeClassName:Se.a.activeLink,children:"Music"})}),Object(Pe.jsx)("li",{className:Se.a.item,children:Object(Pe.jsx)(b.b,{to:"/settings",activeClassName:Se.a.activeLink,children:"Settings"})})]})})},Ue=function(e){return{isAuth:e.auth.isAuth}},Te=function(e){var t=function(t){Object(l.a)(a,t);var n=Object(j.a)(a);function a(){return Object(c.a)(this,a),n.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return this.props.isAuth?Object(Pe.jsx)(e,Object(g.a)({},this.props)):Object(Pe.jsx)(d.a,{to:"/login"})}}]),a}(r.a.Component);return Object(f.b)(Ue)(t)},Ee=n(143),De=n.n(Ee),Fe=n(12),Me=n.n(Fe),Ae=n.p+"static/media/avatar-man.c8950e98.png",Be=n(102),ze=n.n(Be),Re=n.p+"static/media/preloader.80c1dbfa.svg",He=function(e){return Object(Pe.jsx)("div",{className:ze.a.container,children:Object(Pe.jsx)("div",{className:ze.a.preloader,children:Object(Pe.jsx)("img",{src:Re,alt:""})})})},Ge=n(63),We=n(83),qe=n.n(We),Ye=function(e){var t=Object(s.useState)(!1),n=Object(Ge.a)(t,2),a=n[0],r=n[1],o=Object(s.useState)(e.status),i=Object(Ge.a)(o,2),c=i[0],u=i[1];Object(s.useEffect)((function(){u(e.status)}),[e.status]);return Object(Pe.jsxs)("div",{className:qe.a.status,children:[!a&&Object(Pe.jsx)("div",{className:qe.a.statusMode,onDoubleClick:function(){r(!0)},children:e.status||"no status"}),a&&Object(Pe.jsx)("input",{className:qe.a.statusInput,onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),e.updateStatus(c)},defaultValue:c})]})},Je=n(23),Ve=n(144),Xe=n(39),Ze=function(e){var t=e.profile,n=e.status,a=e.updateStatus;return t?Object(Pe.jsxs)("div",{children:[Object(Pe.jsx)("div",{className:Me.a.header}),Object(Pe.jsxs)("div",{className:Me.a.description,children:[Object(Pe.jsx)("img",{className:Me.a.avatar,src:null!=t.photos.large?t.photos.large:Ae,alt:""}),Object(Pe.jsxs)("div",{className:Me.a.content,children:[Object(Pe.jsx)(Ye,{status:n,updateStatus:a}),Object(Pe.jsx)("h4",{className:Me.a.contentTitle,children:t.fullName}),Object(Pe.jsxs)("p",{className:Me.a.contentItem,children:["about me: \xa0",Object(Pe.jsx)("span",{className:Me.a.contentData,children:t.aboutMe})]}),Object(Pe.jsxs)("p",{className:Me.a.contentItem,children:["looking for a job: \xa0",Object(Pe.jsxs)("label",{className:Me.a.switch,children:[Object(Pe.jsx)("input",{className:Me.a.switchInput,type:"checkbox",value:t.lookingForAJob}),Object(Pe.jsx)("span",{className:Me.a.slider})]})]}),Object(Pe.jsxs)("p",{className:Me.a.contentItem,children:["description: \xa0",Object(Pe.jsx)("span",{className:Me.a.contentData,children:t.lookingForAJobDescription})]}),Object(Pe.jsxs)("ul",{className:Me.a.socialNetwork,children:[Object(Pe.jsx)("li",{children:Object(Pe.jsx)("a",{className:Me.a.facebook,href:t.contacts.facebook,target:"_blank",rel:"noopener noreferrer",children:Object(Pe.jsx)(Je.a,{icon:Xe.a})})}),Object(Pe.jsx)("li",{children:Object(Pe.jsx)("a",{className:Me.a.website,href:t.contacts.website,target:"_blank",rel:"noopener noreferrer",children:Object(Pe.jsx)(Je.a,{icon:Xe.d})})}),Object(Pe.jsx)("li",{children:Object(Pe.jsx)("a",{className:Me.a.vk,href:t.contacts.vk,target:"_blank",rel:"noopener noreferrer",children:Object(Pe.jsx)(Je.a,{icon:Xe.f})})}),Object(Pe.jsx)("li",{children:Object(Pe.jsx)("a",{className:Me.a.twitter,href:t.contacts.twitter,target:"_blank",rel:"noopener noreferrer",children:Object(Pe.jsx)(Je.a,{icon:Xe.e})})}),Object(Pe.jsx)("li",{children:Object(Pe.jsx)("a",{className:Me.a.instagram,href:t.contacts.instagram,target:"_blank",rel:"noopener noreferrer",children:Object(Pe.jsx)(Je.a,{icon:Xe.c})})}),Object(Pe.jsx)("li",{children:Object(Pe.jsx)("a",{className:Me.a.youtube,href:t.contacts.youtube,target:"_blank",rel:"noopener noreferrer",children:Object(Pe.jsx)(Je.a,{icon:Xe.g})})}),Object(Pe.jsx)("li",{children:Object(Pe.jsx)("a",{className:Me.a.github,href:t.contacts.github,target:"_blank",rel:"noopener noreferrer",children:Object(Pe.jsx)(Je.a,{icon:Xe.b})})}),Object(Pe.jsx)("li",{children:Object(Pe.jsx)("a",{className:Me.a.mainLink,href:t.contacts.mainLink,target:"_blank",rel:"noopener noreferrer",children:Object(Pe.jsx)(Je.a,{icon:Ve.a})})})]})]})]})]}):Object(Pe.jsx)(He,{})},Ke=n(135),Qe=n(136),$e=n(49),et=n.n($e),tt=n(50),nt=n.n(tt),at=n(81),st=Object(Pe.jsx)(Je.a,{icon:at.b}),rt=Object(Pe.jsx)(Je.a,{icon:at.a}),ot=function(e){return Object(Pe.jsxs)("div",{className:nt.a.message,children:[Object(Pe.jsxs)("div",{className:nt.a.postItem,children:[Object(Pe.jsx)("img",{src:e.avatar,alt:"avatar"}),Object(Pe.jsx)("p",{children:e.message})]}),Object(Pe.jsxs)("div",{className:nt.a.buttonWrap,children:[Object(Pe.jsxs)("button",{className:nt.a.buttonLike,children:[st," ",Object(Pe.jsx)("span",{children:e.like})]}),Object(Pe.jsxs)("button",{className:nt.a.buttonLike,children:[rt,Object(Pe.jsx)("span",{children:e.dislike})]})]})]})},it=function(e){if(!e)return"Field is required"},ct=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}},ut=n(61),lt=n(65),jt=n.n(lt),dt=["input","meta","child"],bt=["input","meta","child"],ft=function(e){e.input;var t=e.meta,n=t.touched,a=t.error,s=e.children,r=n&&a;return Object(Pe.jsx)("div",{className:jt.a.formControl+" "+(r?jt.a.error:""),children:Object(Pe.jsxs)("div",{className:jt.a.formControlChild,children:[s,r&&Object(Pe.jsx)("span",{className:jt.a.formControlError,children:a})]})})},pt=function(e){var t=e.input,n=(e.meta,e.child,Object(ut.a)(e,dt));return Object(Pe.jsx)(ft,Object(g.a)(Object(g.a)({},e),{},{children:Object(Pe.jsx)("textarea",Object(g.a)(Object(g.a)({},t),n))}))},mt=function(e){var t=e.input,n=(e.meta,e.child,Object(ut.a)(e,bt));return Object(Pe.jsx)(ft,Object(g.a)(Object(g.a)({},e),{},{children:Object(Pe.jsx)("input",Object(g.a)(Object(g.a)({},t),n))}))},ht=function(e,t,n,a,s,r){return Object(Pe.jsx)("div",{children:Object(Pe.jsx)(Ke.a,{className:e,placeholder:t,name:n,type:a,component:s,validate:r})})},gt=ct(50),Ot=r.a.memo((function(e){var t=Object(h.a)(e.posts).reverse().map((function(e){return Object(Pe.jsx)(ot,{avatar:e.avatar,message:e.message,like:e.like,dislike:e.dislike},e.id)}));return Object(Pe.jsxs)("div",{className:et.a.posts,children:[Object(Pe.jsx)("h3",{className:et.a.postsTitle,children:"My posts"}),Object(Pe.jsx)(_t,{onSubmit:function(t){e.addPost(t.newPostText)}}),t]})})),_t=Object(Qe.a)({form:"profileAddNewPostForm"})((function(e){return Object(Pe.jsxs)("form",{className:et.a.postNew,onSubmit:e.handleSubmit,children:[Object(Pe.jsx)("div",{children:Object(Pe.jsx)(Ke.a,{className:et.a.postNewTextarea,component:pt,name:"newPostText",cols:"",rows:"3",placeholder:"post message...",validate:[it,gt]})}),Object(Pe.jsx)("button",{className:et.a.postNewButton,children:"Add post"})]})})),xt=Ot,vt=Object(f.b)((function(e){return{posts:e.profilePage.postsData,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(function(e){return{type:E,newPostText:e}}(t))}}}))(xt),wt=function(e){return Object(Pe.jsxs)("div",{className:De.a.wrap,children:[Object(Pe.jsx)(Ze,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),Object(Pe.jsx)(vt,{})]})},Nt=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.autorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"render",value:function(){return Object(Pe.jsx)(wt,Object(g.a)(Object(g.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus}))}}]),n}(r.a.Component),Pt=Object(p.d)(Object(f.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,autorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:function(e){return function(){var t=Object(m.a)(_.a.mark((function t(n){var a;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w(e);case 2:a=t.sent,n((s=a.data,{type:T,profile:s}));case 4:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}()},getStatus:function(e){return function(){var t=Object(m.a)(_.a.mark((function t(n){var a;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N(e);case 2:a=t.sent,n(A(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateStatus:function(e){return function(){var t=Object(m.a)(_.a.mark((function t(n){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P(e);case 2:0===t.sent.data.resultCode&&n(A(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),d.f,Te)(Nt),kt=n(33),It=n.n(kt),yt=n(105),Ct=n.n(yt),St=function(e){var t="/dialogs/"+e.id;return Object(Pe.jsx)("div",{className:Ct.a.dialog,children:Object(Pe.jsx)(b.b,{to:t,activeClassName:Ct.a.activeLink,children:e.name})})},Lt=n(146),Ut=n.n(Lt),Tt=function(e){return Object(Pe.jsx)("div",{className:Ut.a.message,children:e.message})},Et=ct(30),Dt=Object(Qe.a)({form:"dialogAddMessageForm"})((function(e){return Object(Pe.jsxs)("form",{className:It.a.messageNew,onSubmit:e.handleSubmit,children:[Object(Pe.jsx)("div",{children:Object(Pe.jsx)(Ke.a,{className:It.a.messageNewTextarea,component:pt,validate:[it,Et],name:"newMessageBody",placeholder:"your message...",cols:"40",rows:"3"})}),Object(Pe.jsx)("button",{className:It.a.messageNewButton,children:"Send"})]})})),Ft=function(e){var t=e.dialogsPage,n=t.dialogsData.map((function(e){return Object(Pe.jsx)(St,{name:e.name,id:e.id},e.id)})),a=t.messagesData.map((function(e){return Object(Pe.jsx)(Tt,{message:e.message},e.id)}));return e.isAuth?Object(Pe.jsxs)("div",{className:It.a.wrap,children:[Object(Pe.jsx)("h2",{className:It.a.title,children:"Dialogs"}),Object(Pe.jsxs)("div",{className:It.a.dialogs,children:[Object(Pe.jsx)("div",{className:It.a.dialogsItems,children:n}),Object(Pe.jsxs)("div",{className:It.a.messagesItems,children:[Object(Pe.jsx)("div",{children:a}),Object(Pe.jsx)(Dt,{onSubmit:function(t){e.sendMessage(t.newMessageBody)}})]})]})]}):Object(Pe.jsx)(d.a,{to:"/login"})},Mt=Object(p.d)(Object(f.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{sendMessage:function(t){e(function(e){return{type:z,newMessageBody:e}}(t))}}})),Te)(Ft),At=n(147),Bt=n.n(At),zt=function(e){return Object(Pe.jsx)("div",{children:Object(Pe.jsx)("h2",{className:Bt.a.title,children:"News"})})},Rt=n(148),Ht=n.n(Rt),Gt=function(e){return Object(Pe.jsx)("div",{className:Ht.a.title,children:"Music"})},Wt=n(80),qt=n(51),Yt=n.n(qt),Jt=n(149),Vt=n.n(Jt),Xt=function(e){for(var t=e.totalItemsCount,n=e.pageSize,a=e.currentPage,r=e.onPageChanged,o=e.portionSize,i=void 0===o?10:o,c=Math.ceil(t/n),u=[],l=1;l<=c;l++)u.push(l);var j=Math.ceil(c/i),d=Object(s.useState)(1),b=Object(Ge.a)(d,2),f=b[0],p=b[1],m=(f-1)*i+1,h=f*i;return Object(Pe.jsxs)("div",{className:Yt.a.paginator,children:[f>1&&Object(Pe.jsx)("button",{className:Yt.a.paginatorButton,onClick:function(){p(f-1)},children:"PREV"}),u.filter((function(e){return e>=m&&e<=h})).map((function(e){return Object(Pe.jsx)("span",{className:Vt()(Object(Wt.a)({},Yt.a.selectedPage,a===e),Yt.a.pageNumber),onClick:function(t){r(e)},children:e},e)})),j>f&&Object(Pe.jsx)("button",{className:Yt.a.paginatorButton,onClick:function(){p(f+1)},children:"NEXT"})]})},Zt=n(24),Kt=n.n(Zt),Qt=n.p+"static/media/user.ba7b88ec.png",$t=function(e){var t=e.user,n=e.followingInProgress,a=e.unfollow,s=e.follow;return Object(Pe.jsx)("div",{children:Object(Pe.jsxs)("div",{className:Kt.a.wrap,children:[Object(Pe.jsxs)("div",{className:Kt.a.wrapUser,children:[Object(Pe.jsx)(b.b,{to:"/profile/"+t.id,children:Object(Pe.jsx)("img",{className:Kt.a.avatar,src:null!=t.photos.small?t.photos.small:Qt,alt:""})}),Object(Pe.jsx)("div",{className:Kt.a.wrapButton,children:t.followed?Object(Pe.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){a(t.id)},children:"Unfollow"}):Object(Pe.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){s(t.id)},children:"Follow"})})]}),Object(Pe.jsxs)("div",{className:Kt.a.wrapDescription,children:[Object(Pe.jsxs)("div",{className:Kt.a.alignment,children:[Object(Pe.jsx)("span",{className:Kt.a.fullName,children:t.name}),Object(Pe.jsx)("span",{className:Kt.a.statusUser,children:t.status})]}),Object(Pe.jsxs)("div",{className:Kt.a.alignment,children:[Object(Pe.jsx)("span",{className:Kt.a.country,children:"user.location.country"}),Object(Pe.jsx)("span",{className:Kt.a.city,children:"user.location.city"})]})]})]})})},en=["currentPage","onPageChanged","pageSize","totalUsersCount","users"],tn=function(e){var t=e.currentPage,n=e.onPageChanged,a=e.pageSize,s=e.totalUsersCount,r=e.users,o=Object(ut.a)(e,en);return Object(Pe.jsxs)("div",{children:[Object(Pe.jsx)(Xt,{currentPage:t,onPageChanged:n,totalItemsCount:s,pageSize:a}),r.map((function(e){return Object(Pe.jsx)($t,{user:e,followingInProgress:o.followingInProgress,unfollow:o.unfollow,follow:o.follow},e.id)}))]})},nn=n(151),an=Object(nn.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),sn=function(e){return e.usersPage.pageSize},rn=function(e){return e.usersPage.totalUsersCount},on=function(e){return e.usersPage.currentPage},cn=function(e){return e.usersPage.isFetching},un=function(e){return e.usersPage.followingInProgress},ln=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).onPageChanged=function(t){var n=e.props.pageSize;e.props.requestUsers(t,n)},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize;this.props.requestUsers(t,n)}},{key:"render",value:function(){return Object(Pe.jsxs)(Pe.Fragment,{children:[this.props.isFetching?Object(Pe.jsx)(He,{}):null,Object(Pe.jsx)(tn,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unFollow,followingInProgress:this.props.followingInProgress})]})}}]),n}(r.a.Component),jn=Object(p.d)(Object(f.b)((function(e){return{users:an(e),pageSize:sn(e),totalUsersCount:rn(e),currentPage:on(e),isFetching:cn(e),followingInProgress:un(e)}}),{follow:function(e){return function(){var t=Object(m.a)(_.a.mark((function t(n){var a;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=v.follow.bind(v),re(n,e,a,ee);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unFollow:function(e){return function(){var t=Object(m.a)(_.a.mark((function t(n){var a;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=v.unfollow.bind(v),re(n,e,a,te);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:ne,toggleFollowingProgress:se,requestUsers:function(e,t){return function(){var n=Object(m.a)(_.a.mark((function n(a){var s;return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(ae(!0)),a(ne(e)),n.next=4,v.getUsers(e,t);case 4:s=n.sent,a(ae(!1)),a((o=s.items,{type:V,users:o})),a((r=s.totalCount,{type:Z,count:r}));case 8:case"end":return n.stop()}var r,o}),n)})));return function(e){return n.apply(this,arguments)}}()}}))(ln),dn=n(150),bn=n.n(dn),fn=function(e){return Object(Pe.jsx)("div",{children:Object(Pe.jsx)("h2",{className:bn.a.title,children:"Settings"})})},pn=n(26),mn=n.n(pn),hn=Object(Qe.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error;return Object(Pe.jsx)("div",{className:mn.a.wrap,children:Object(Pe.jsxs)("form",{onSubmit:t,className:mn.a.form,children:[ht(mn.a.formItemInput,"email","email","text",mt,[it]),ht(mn.a.formItemInput,"password","password","password",mt,[it]),Object(Pe.jsx)("div",{className:mn.a.formCheckbox,children:Object(Pe.jsxs)("label",{className:mn.a.formCheckboxLabel,htmlFor:"",children:[ht(mn.a.formCheckboxInput,null,"rememberMe","checkbox",mt,[]),"remember me"]})}),Object(Pe.jsx)("div",{className:mn.a.formItem,children:Object(Pe.jsx)("button",{className:mn.a.formLoginButton,children:"Login"})}),n&&Object(Pe.jsx)("div",{className:mn.a.formControlError,children:n})]})})})),gn=Object(f.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,n){return function(){var a=Object(m.a)(_.a.mark((function a(s){var r,o;return _.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,I(e,t,n);case 2:0===(r=a.sent).data.resultCode?s(je()):(o=r.data.messages.length>0?r.data.messages[0]:"Some error",s(Object(ie.a)("login",{_error:o})));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})((function(e){return e.isAuth?Object(Pe.jsx)(d.a,{to:"/profile"}):Object(Pe.jsx)("div",{children:Object(Pe.jsx)(hn,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}})})})),On=function(e){Object(l.a)(n,e);var t=Object(j.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(Pe.jsxs)("div",{className:"app-wrapper",children:[Object(Pe.jsx)(ye,{}),Object(Pe.jsx)(Le,{}),Object(Pe.jsxs)("div",{className:"app-wrapper-content",children:[Object(Pe.jsx)(d.b,{path:"/profile/:userId?",render:function(){return Object(Pe.jsx)(Pt,{})}}),Object(Pe.jsx)(d.b,{path:"/dialogs",render:function(){return Object(Pe.jsx)(Mt,{})}}),Object(Pe.jsx)(d.b,{path:"/users",render:function(){return Object(Pe.jsx)(jn,{})}}),Object(Pe.jsx)(d.b,{path:"/news",render:function(){return Object(Pe.jsx)(zt,{})}}),Object(Pe.jsx)(d.b,{path:"/music",render:function(){return Object(Pe.jsx)(Gt,{})}}),Object(Pe.jsx)(d.b,{path:"/settings",render:function(){return Object(Pe.jsx)(fn,{})}}),Object(Pe.jsx)(d.b,{path:"/login",render:function(){return Object(Pe.jsx)(gn,{})}})]})]}):Object(Pe.jsx)(He,{})}}]),n}(r.a.Component),_n=Object(p.d)(d.f,Object(f.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(je());Promise.all([t]).then((function(){e({type:be})}))}}}))(On),xn=function(e){return Object(Pe.jsx)(b.a,{basename:"/samurai-way-react",children:Object(Pe.jsx)(f.a,{store:xe,children:Object(Pe.jsx)(_n,{})})})};i.a.render(Object(Pe.jsx)(xn,{}),document.getElementById("root")),a()},33:function(e,t,n){e.exports={title:"Dialogs_title__3oREp",dialogs:"Dialogs_dialogs__1rZ3k",dialogsItems:"Dialogs_dialogsItems__2cvy3",messagesItems:"Dialogs_messagesItems__1yMkL",messageNew:"Dialogs_messageNew__21xdy",messageNewTextarea:"Dialogs_messageNewTextarea__C3EkH",messageNewButton:"Dialogs_messageNewButton__2ljKT"}},44:function(e,t,n){e.exports={header:"Header_header__1CGKd",logo:"Header_logo__ffv_d",loginBlock:"Header_loginBlock__2dPsT",logIn:"Header_logIn__3gRv0",loginLink:"Header_loginLink__2EMUY",logOutButton:"Header_logOutButton__2N3Z2"}},49:function(e,t,n){e.exports={posts:"MyPosts_posts__C8sZj",postsTitle:"MyPosts_postsTitle__3GbLg",postNew:"MyPosts_postNew__uCfe-",postNewTextarea:"MyPosts_postNewTextarea__1x2Ul",postNewButton:"MyPosts_postNewButton__12X_E"}},50:function(e,t,n){e.exports={message:"Post_message__2b4Q6",postItem:"Post_postItem__2prE8",buttonWrap:"Post_buttonWrap__1FYOy",buttonLike:"Post_buttonLike__27h0q"}},51:function(e,t,n){e.exports={paginator:"Paginator_paginator__3dEBj",pageNumber:"Paginator_pageNumber__1uYMU",selectedPage:"Paginator_selectedPage__3dzrA",paginatorButton:"Paginator_paginatorButton__22Whx"}},65:function(e,t,n){e.exports={formControl:"FormsControls_formControl__3TUBZ",error:"FormsControls_error__tEsmo",formControlError:"FormsControls_formControlError__3_K2f",formControlChild:"FormsControls_formControlChild__2Yrl_"}},83:function(e,t,n){e.exports={status:"ProfileStatus_status__2GbXk",statusMode:"ProfileStatus_statusMode__2shht",statusInput:"ProfileStatus_statusInput__3Nrhd"}}},[[312,1,2]]]);
//# sourceMappingURL=main.098aa303.chunk.js.map