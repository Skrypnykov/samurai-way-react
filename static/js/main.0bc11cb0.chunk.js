(this["webpackJsonpsamurai-way-react"]=this["webpackJsonpsamurai-way-react"]||[]).push([[0],{112:function(e,t,n){e.exports={container:"Preloader_container__1fq9g",preloader:"Preloader_preloader__1_D0u"}},113:function(e,t,n){e.exports={dialog:"DialogItem_dialog__8qC4u",activeLink:"DialogItem_activeLink__cyvux"}},12:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return j})),n.d(t,"c",(function(){return p}));var a=n(4),r=n(66),s=(n(1),n(69)),o=n.n(s),c=n(108),i=n(0),u=["input","meta","child"],l=["input","meta","child"],d=function(e){e.input;var t=e.meta,n=t.touched,a=t.error,r=e.children,s=n&&a;return Object(i.jsx)("div",{className:o.a.formControl+" "+(s?o.a.error:""),children:Object(i.jsxs)("div",{className:o.a.formControlChild,children:[r,s&&Object(i.jsx)("span",{className:o.a.formControlError,children:a})]})})},f=function(e){var t=e.input,n=(e.meta,e.child,Object(r.a)(e,u));return Object(i.jsx)(d,Object(a.a)(Object(a.a)({},e),{},{children:Object(i.jsx)("textarea",Object(a.a)(Object(a.a)({},t),n))}))},j=function(e){var t=e.input,n=(e.meta,e.child,Object(r.a)(e,l));return Object(i.jsx)(d,Object(a.a)(Object(a.a)({},e),{},{children:Object(i.jsx)("input",Object(a.a)(Object(a.a)({},t),n))}))},p=function(e,t,n,r,s,o){var u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{};return Object(i.jsx)("div",{children:Object(i.jsx)(c.a,Object(a.a)({className:e,placeholder:t,name:n,type:r,component:s,validate:o},u))})}},144:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n(31),s=n(32),o=n(33),c=n(34),i=n(1),u=n.n(i),l=n(14),d=n(13),f=n(11),j=n(87),p=n(35),b=n(153),m=n.n(b),h=n(48),O=n(6),g=n.n(O),_=n(143),x=n(12),v=n(0),w=Object(_.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,n=e.profile,a=e.error;return Object(v.jsxs)("form",{onSubmit:t,children:[Object(v.jsx)("h4",{className:g.a.contentTitle,children:Object(x.c)(g.a.formItemInput,"full name","fullName","text",x.a,[])}),Object(v.jsxs)("div",{className:g.a.contentItem,children:["about me: \xa0",Object(x.c)(g.a.formTextarea,"about me","aboutMe","text",x.b,[])]}),Object(v.jsx)("div",{className:g.a.formCheckbox,children:Object(v.jsxs)("label",{className:g.a.formCheckboxLabel,htmlFor:"",children:[Object(x.c)(g.a.formCheckboxInput,null,"lookingForAJob","checkbox",x.a,[]),"\xa0 looking for a job:"]})}),Object(v.jsxs)("div",{className:g.a.contentItem,children:["my professional skills: \xa0",Object(x.c)(g.a.formTextarea,"my professional skills","lookingForAJobDescription","text",x.b,[])]}),Object(v.jsxs)("div",{className:g.a.newSocialNetworkBlock,children:[a&&Object(v.jsx)("span",{className:g.a.formControlError,children:a}),Object(v.jsx)("span",{className:g.a.socialNetworkTitle,children:"contacts:"})," ",Object.keys(n.contacts).map((function(e){return Object(v.jsx)("div",{className:g.a.contact,children:Object(v.jsxs)("span",{className:g.a.contactItem,children:[e,": ",Object(x.c)(g.a.formItemInput,e,"contacts."+e,"text",x.a,[])]})},e)}))]}),Object(v.jsx)("button",{className:g.a.saveProfileButton,children:"Save"})]})})),N=n.p+"static/media/avatarProfile.d8e11afd.png",P=n(42),k=n(91),I=n.n(k),C=function(e){var t=Object(i.useState)(!1),n=Object(h.a)(t,2),a=n[0],r=n[1],s=Object(i.useState)(e.status),o=Object(h.a)(s,2),c=o[0],u=o[1];Object(i.useEffect)((function(){u(e.status)}),[e.status]);return Object(v.jsxs)("div",{className:I.a.status,children:[!a&&Object(v.jsx)("div",{className:I.a.statusMode,onDoubleClick:function(){r(!0)},children:e.status||"no status"}),a&&Object(v.jsx)("input",{className:I.a.statusInput,onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,onBlur:function(){r(!1),e.updateStatus(c)},defaultValue:c})]})},y=n(68),S=n(155),T=function(e){var t=e.profile,n=e.isOwner,a=e.goToEditMode;return Object(v.jsxs)("div",{children:[n&&Object(v.jsx)("button",{className:g.a.editProfileButton,onClick:a,children:"Edit profile"}),Object(v.jsx)("h4",{className:g.a.contentTitle,children:t.fullName}),Object(v.jsxs)("div",{className:g.a.contentItem,children:["about me: \xa0",Object(v.jsx)("span",{className:g.a.contentData,children:t.aboutMe})]}),Object(v.jsxs)("div",{className:g.a.contentItem,children:["looking for a job: \xa0",Object(v.jsx)("span",{className:g.a.contentData,children:t.lookingForAJob?"yes":"no"})]}),t.lookingForAJob&&Object(v.jsxs)("div",{className:g.a.contentItem,children:["my professional skills: \xa0",Object(v.jsx)("span",{className:g.a.contentData,children:t.lookingForAJobDescription})]}),Object(v.jsxs)("div",{className:g.a.socialNetworkBlock,children:[Object(v.jsx)("span",{className:g.a.socialNetworkTitle,children:"contacts:"})," ",Object.keys(t.contacts).map((function(e){return Object(v.jsx)(U,{contactTitle:e,contactValue:t.contacts[e]},e)}))]})]})},U=function(e){var t=e.contactTitle,n=e.contactValue;return Object(v.jsxs)("div",{className:g.a.contactTitle,children:[t,": ",Object(v.jsx)("a",{href:n,className:g.a.contactValue,target:"_blank",rel:"noopener noreferrer",children:n})]})},E=function(e){var t=e.profile,n=e.status,a=e.updateStatus,r=e.isOwner,s=e.savePhoto,o=e.saveProfile,c=Object(i.useState)(!1),u=Object(h.a)(c,2),l=u[0],d=u[1];if(!t)return Object(v.jsx)(P.a,{});return Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{className:g.a.header}),Object(v.jsxs)("div",{className:g.a.description,children:[Object(v.jsxs)("div",{className:g.a.profilePhoto,children:[Object(v.jsx)("img",{className:g.a.mainPhoto,src:null!=t.photos.large?t.photos.large:N,alt:""}),r&&Object(v.jsx)("div",{className:g.a.addPhotoWrap,children:Object(v.jsxs)("label",{className:g.a.addPhotoLabel,children:[Object(v.jsx)("input",{className:g.a.addPhotoInput,type:"file",onChange:function(e){e.target.files.length&&s(e.target.files[0])}}),Object(v.jsx)("span",{className:g.a.addImageWrap,children:Object(v.jsx)(y.a,{icon:S.a})}),Object(v.jsx)("span",{children:"Add photo"})]})})]}),Object(v.jsxs)("div",{className:g.a.content,children:[Object(v.jsx)(C,{status:n,updateStatus:a}),l?Object(v.jsx)(w,{initialValues:t,profile:t,onSubmit:function(e){o(e).then((function(){d(!1)}))}}):Object(v.jsx)(T,{goToEditMode:function(){d(!0)},profile:t,isOwner:r})]})]})]})},L=n(41),D=n(108),F=n(54),M=n.n(F),A=n(55),B=n.n(A),z=n(89),W=Object(v.jsx)(y.a,{icon:z.b}),H=Object(v.jsx)(y.a,{icon:z.a}),R=function(e){return Object(v.jsxs)("div",{className:B.a.message,children:[Object(v.jsxs)("div",{className:B.a.postItem,children:[Object(v.jsx)("img",{src:e.avatar,alt:"avatar"}),Object(v.jsx)("p",{children:e.message})]}),Object(v.jsxs)("div",{className:B.a.buttonWrap,children:[Object(v.jsxs)("button",{className:B.a.buttonLike,children:[W," ",Object(v.jsx)("span",{children:e.like})]}),Object(v.jsxs)("button",{className:B.a.buttonLike,children:[H,Object(v.jsx)("span",{children:e.dislike})]})]})]})},G=n(36),V=Object(G.a)(50),q=u.a.memo((function(e){var t=Object(L.a)(e.posts).reverse().map((function(e){return Object(v.jsx)(R,{avatar:e.avatar,message:e.message,like:e.like,dislike:e.dislike},e.id)}));return Object(v.jsxs)("div",{className:M.a.posts,children:[Object(v.jsx)("h3",{className:M.a.postsTitle,children:"My posts"}),Object(v.jsx)(Y,{onSubmit:function(t){e.addPost(t.newPostText)}}),t]})})),Y=Object(_.a)({form:"profileAddNewPostForm"})((function(e){return Object(v.jsxs)("form",{className:M.a.postNew,onSubmit:e.handleSubmit,children:[Object(v.jsx)("div",{children:Object(v.jsx)(D.a,{className:M.a.postNewTextarea,component:x.b,name:"newPostText",cols:"",rows:"3",placeholder:"post message...",validate:[G.b,V]})}),Object(v.jsx)("button",{className:M.a.postNewButton,children:"Add post"})]})})),J=q,K=Object(l.b)((function(e){return{posts:e.profilePage.postsData,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(Object(p.a)(t))}}}))(J),X=function(e){return Object(v.jsxs)("div",{className:m.a.wrap,children:[Object(v.jsx)(E,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,isOwner:e.isOwner,savePhoto:e.savePhoto,saveProfile:e.saveProfile}),Object(v.jsx)(K,{})]})},Z=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.autorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,n){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(v.jsx)(X,Object(a.a)(Object(a.a)({},this.props),{},{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),n}(u.a.Component);t.default=Object(f.d)(Object(l.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,autorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:p.d,getStatus:p.c,updateStatus:p.g,savePhoto:p.e,saveProfile:p.f}),d.g,j.a)(Z)},145:function(e,t,n){"use strict";n.r(t);var a=n(31),r=n(32),s=n(33),o=n(34),c=n(1),i=n.n(c),u=n(14),l=n(44),d=n(66),f=n(85),j=n(48),p=n(56),b=n.n(p),m=n(159),h=n.n(m),O=n(0),g=function(e){for(var t=e.totalItemsCount,n=e.pageSize,a=e.currentPage,r=e.onPageChanged,s=e.portionSize,o=void 0===s?10:s,i=Math.ceil(t/n),u=[],l=1;l<=i;l++)u.push(l);var d=Math.ceil(i/o),p=Object(c.useState)(1),m=Object(j.a)(p,2),g=m[0],_=m[1],x=(g-1)*o+1,v=g*o;return Object(O.jsxs)("div",{className:b.a.paginator,children:[g>1&&Object(O.jsx)("button",{className:b.a.paginatorButton,onClick:function(){_(g-1)},children:"PREV"}),u.filter((function(e){return e>=x&&e<=v})).map((function(e){return Object(O.jsx)("span",{className:h()(Object(f.a)({},b.a.selectedPage,a===e),b.a.pageNumber),onClick:function(t){r(e)},children:e},e)})),d>g&&Object(O.jsx)("button",{className:b.a.paginatorButton,onClick:function(){_(g+1)},children:"NEXT"})]})},_=n(15),x=n(25),v=n.n(x),w=n.p+"static/media/user.142cad88.png",N=function(e){var t=e.user,n=e.followingInProgress,a=e.unfollow,r=e.follow;return Object(O.jsx)("div",{children:Object(O.jsxs)("div",{className:v.a.wrap,children:[Object(O.jsxs)("div",{className:v.a.wrapUser,children:[Object(O.jsx)(_.b,{to:"/profile/"+t.id,children:Object(O.jsx)("img",{className:v.a.avatar,src:null!=t.photos.small?t.photos.small:w,alt:""})}),Object(O.jsx)("div",{className:v.a.wrapButton,children:t.followed?Object(O.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){a(t.id)},children:"Unfollow"}):Object(O.jsx)("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){r(t.id)},children:"Follow"})})]}),Object(O.jsxs)("div",{className:v.a.wrapDescription,children:[Object(O.jsxs)("div",{className:v.a.alignment,children:[Object(O.jsx)("span",{className:v.a.fullName,children:t.name}),Object(O.jsx)("span",{className:v.a.statusUser,children:t.status})]}),Object(O.jsxs)("div",{className:v.a.alignment,children:[Object(O.jsx)("span",{className:v.a.country,children:"user.location.country"}),Object(O.jsx)("span",{className:v.a.city,children:"user.location.city"})]})]})]})})},P=["currentPage","onPageChanged","pageSize","totalUsersCount","users"],k=function(e){var t=e.currentPage,n=e.onPageChanged,a=e.pageSize,r=e.totalUsersCount,s=e.users,o=Object(d.a)(e,P);return Object(O.jsxs)("div",{children:[Object(O.jsx)(g,{currentPage:t,onPageChanged:n,totalItemsCount:r,pageSize:a}),s.map((function(e){return Object(O.jsx)(N,{user:e,followingInProgress:o.followingInProgress,unfollow:o.unfollow,follow:o.follow},e.id)}))]})},I=n(42),C=n(11),y=n(161),S=Object(y.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),T=function(e){return e.usersPage.pageSize},U=function(e){return e.usersPage.totalUsersCount},E=function(e){return e.usersPage.currentPage},L=function(e){return e.usersPage.isFetching},D=function(e){return e.usersPage.followingInProgress},F=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).onPageChanged=function(t){var n=e.props.pageSize;e.props.requestUsers(t,n)},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage,n=e.pageSize;this.props.requestUsers(t,n)}},{key:"render",value:function(){return Object(O.jsxs)(O.Fragment,{children:[this.props.isFetching?Object(O.jsx)(I.a,{}):null,Object(O.jsx)(k,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.follow,unfollow:this.props.unFollow,followingInProgress:this.props.followingInProgress})]})}}]),n}(i.a.Component);t.default=Object(C.d)(Object(u.b)((function(e){return{users:S(e),pageSize:T(e),totalUsersCount:U(e),currentPage:E(e),isFetching:L(e),followingInProgress:D(e)}}),{follow:l.b,unFollow:l.f,setCurrentPage:l.d,toggleFollowingProgress:l.e,requestUsers:l.c}))(F)},146:function(e,t,n){"use strict";n.r(t);var a=n(14),r=n(11),s=n(87),o=n(86),c=(n(1),n(37)),i=n.n(c),u=n(15),l=n(113),d=n.n(l),f=n(0),j=function(e){var t="/dialogs/"+e.id;return Object(f.jsx)("div",{className:d.a.dialog,children:Object(f.jsx)(u.b,{to:t,activeClassName:d.a.activeLink,children:e.name})})},p=n(156),b=n.n(p),m=function(e){return Object(f.jsx)("div",{className:b.a.message,children:e.message})},h=n(13),O=n(108),g=n(143),_=n(12),x=n(36),v=Object(x.a)(30),w=Object(g.a)({form:"dialogAddMessageForm"})((function(e){return Object(f.jsxs)("form",{className:i.a.messageNew,onSubmit:e.handleSubmit,children:[Object(f.jsx)("div",{children:Object(f.jsx)(O.a,{className:i.a.messageNewTextarea,component:_.b,validate:[x.b,v],name:"newMessageBody",placeholder:"your message...",cols:"40",rows:"3"})}),Object(f.jsx)("button",{className:i.a.messageNewButton,children:"Send"})]})})),N=function(e){var t=e.dialogsPage,n=t.dialogsData.map((function(e){return Object(f.jsx)(j,{name:e.name,id:e.id},e.id)})),a=t.messagesData.map((function(e){return Object(f.jsx)(m,{message:e.message},e.id)}));return e.isAuth?Object(f.jsxs)("div",{className:i.a.wrap,children:[Object(f.jsx)("h2",{className:i.a.title,children:"Dialogs"}),Object(f.jsxs)("div",{className:i.a.dialogs,children:[Object(f.jsx)("div",{className:i.a.dialogsItems,children:n}),Object(f.jsxs)("div",{className:i.a.messagesItems,children:[Object(f.jsx)("div",{children:a}),Object(f.jsx)(w,{onSubmit:function(t){e.sendMessage(t.newMessageBody)}})]})]})]}):Object(f.jsx)(h.a,{to:"/login"})};t.default=Object(r.d)(Object(a.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{sendMessage:function(t){e(Object(o.b)(t))}}})),s.a)(N)},153:function(e,t,n){e.exports={wrap:"Profile_wrap__3GM7T"}},156:function(e,t,n){e.exports={message:"Message_message__28aa8"}},157:function(e,t,n){e.exports={title:"News_title__1W7rS"}},158:function(e,t,n){e.exports={title:"Music_title__fVbPg"}},16:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return i}));var a=n(149),r=a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"a8051bff-0f4f-4056-b54f-7f5326bdab8d"}}),s={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return r.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},follow:function(e){return r.post("follow/".concat(e))},unfollow:function(e){return r.delete("follow/".concat(e))}},o={getProfile:function(e){return r.get("profile/"+e)},getStatus:function(e){return r.get("profile/status/"+e)},updateStatus:function(e){return r.put("profile/status",{status:e})},savePhoto:function(e){var t=new FormData;return t.append("image",e),r.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}})},saveProfile:function(e){return r.put("profile",e)}},c={me:function(){return r.get("auth/me")},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return r.post("auth/login",{email:e,password:t,rememberMe:n,captcha:a})},logout:function(){return r.delete("auth/login")}},i={getCaptchaUrl:function(){return r.get("security/get-captcha-url")}}},160:function(e,t,n){e.exports={title:"Settings_title__Z9KHv"}},191:function(e,t,n){},20:function(e,t,n){e.exports={nav:"Navbar_nav__1dWpI",list:"Navbar_list__16LHF",item:"Navbar_item__3UZIM",activeLink:"Navbar_activeLink__3i75j"}},25:function(e,t,n){e.exports={buttonGet:"Users_buttonGet__Mqqoq",wrap:"Users_wrap__1gcSF",wrapUser:"Users_wrapUser__2LuIu",avatar:"Users_avatar__1xz_T",wrapButton:"Users_wrapButton__2FJ1O",wrapDescription:"Users_wrapDescription__3vXkl",fullName:"Users_fullName__CktC1",statusUser:"Users_statusUser__1amE0",alignment:"Users_alignment__2uVOl",country:"Users_country__SXPsp",city:"Users_city__tBoZY"}},26:function(e,t,n){e.exports={wrap:"Login_wrap__2wDKw",form:"Login_form__3vW3u",formItemInput:"Login_formItemInput__j0vER",formCheckbox:"Login_formCheckbox__2l9AF",formCheckboxLabel:"Login_formCheckboxLabel__QhBhk",formCheckboxInput:"Login_formCheckboxInput__3eRiq",formLoginButton:"Login_formLoginButton__3lMhy",formControlError:"Login_formControlError__2_HYW"}},273:function(e,t,n){},322:function(e,t,n){"use strict";n.r(t);var a=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,323)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),s(e),o(e)}))},r=n(1),s=n.n(r),o=n(81),c=n.n(o),i=(n(191),n(31)),u=n(32),l=n(33),d=n(34),f=n(13),j=n(15),p=n(14),b=n(11),m=n(35),h=n(86),O={},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;return e},_=n(44),x=n(19),v=n(4),w=n(9),N=n.n(w),P=n(16),k=n(30),I="samurai-network/auth/SET_USER_DATA",C="samurai-network/security/get-captcha-url/GET_CAPTCHA_URL_SUCCESS",y={userId:null,email:null,login:null,isAuth:!1,captchaUrl:null},S=function(e,t,n,a){return{type:I,payload:{userId:e,email:t,login:n,isAuth:a}}},T=function(e){return{type:C,payload:{captchaUrl:e}}},U=function(){return function(){var e=Object(x.a)(N.a.mark((function e(t){var n,a,r,s,o;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.me();case 2:0===(n=e.sent).data.resultCode&&(a=n.data.data,r=a.id,s=a.email,o=a.login,t(S(r,s,o,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},E=function(){return function(){var e=Object(x.a)(N.a.mark((function e(t){var n,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.c.getCaptchaUrl();case 2:n=e.sent,a=n.data.url,t(T(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:case C:return Object(v.a)(Object(v.a)({},e),t.payload);default:return e}},D="INITIALIZED_SUCCESS",F={initialized:!1,globalError:null},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;return t.type===D?Object(v.a)(Object(v.a)({},e),{},{initialized:!0}):e},A=n(151),B=n(147),z=Object(b.c)({profilePage:m.b,dialogsPage:h.a,usersPage:_.a,sidebar:g,auth:L,form:B.a,app:M}),W=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||b.d,H=Object(b.e)(z,W(Object(b.a)(A.a)));window.__store__=H;var R=H,G=(n(273),n(49)),V=n.n(G),q=n.p+"static/media/logo-django.03d5cf41.svg",Y=n(0),J=function(e){return Object(Y.jsxs)("header",{className:V.a.header,children:[Object(Y.jsxs)("div",{className:V.a.logo,children:[Object(Y.jsx)("h1",{children:"The Social Network"}),Object(Y.jsx)("img",{src:q,alt:""})]}),Object(Y.jsx)("div",{className:V.a.loginBlock,children:e.isAuth?Object(Y.jsxs)("div",{className:V.a.logIn,children:[e.login," \xa0 ",Object(Y.jsx)("button",{className:V.a.logOutButton,onClick:e.logout,children:"Log out"})]}):Object(Y.jsx)(j.b,{className:V.a.loginLink,to:"/login",children:"Login"})})]})},K=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return Object(Y.jsx)(J,Object(v.a)({},this.props))}}]),n}(s.a.Component),X=Object(p.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(x.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.a.logout();case 2:0===e.sent.data.resultCode&&t(S(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(K),Z=n(20),Q=n.n(Z),$=function(){return Object(Y.jsx)("nav",{className:Q.a.nav,children:Object(Y.jsxs)("ul",{className:Q.a.list,children:[Object(Y.jsx)("li",{className:Q.a.item,children:Object(Y.jsx)(j.b,{to:"/profile",activeClassName:Q.a.activeLink,children:"Profile"})}),Object(Y.jsx)("li",{className:Q.a.item,children:Object(Y.jsx)(j.b,{to:"/dialogs",activeClassName:Q.a.activeLink,children:"Messages"})}),Object(Y.jsx)("li",{className:Q.a.item,children:Object(Y.jsx)(j.b,{to:"/users",activeClassName:Q.a.activeLink,children:"Users"})}),Object(Y.jsx)("li",{className:Q.a.item,children:Object(Y.jsx)(j.b,{to:"/news",activeClassName:Q.a.activeLink,children:"News"})}),Object(Y.jsx)("li",{className:Q.a.item,children:Object(Y.jsx)(j.b,{to:"/music",activeClassName:Q.a.activeLink,children:"Music"})}),Object(Y.jsx)("li",{className:Q.a.item,children:Object(Y.jsx)(j.b,{to:"/settings",activeClassName:Q.a.activeLink,children:"Settings"})})]})})},ee=(n(144),n(146),n(157)),te=n.n(ee),ne=function(e){return Object(Y.jsx)("div",{children:Object(Y.jsx)("h2",{className:te.a.title,children:"News"})})},ae=n(158),re=n.n(ae),se=function(e){return Object(Y.jsx)("div",{className:re.a.title,children:"Music"})},oe=(n(145),n(160)),ce=n.n(oe),ie=function(e){return Object(Y.jsx)("div",{children:Object(Y.jsx)("h2",{className:ce.a.title,children:"Settings"})})},ue=n(26),le=n.n(ue),de=n(143),fe=n(12),je=n(36),pe=Object(de.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error,a=e.captchaUrl;return Object(Y.jsx)("div",{className:le.a.wrap,children:Object(Y.jsxs)("form",{onSubmit:t,className:le.a.form,children:[Object(fe.c)(le.a.formItemInput,"email","email","text",fe.a,[je.b]),Object(fe.c)(le.a.formItemInput,"password","password","password",fe.a,[je.b]),Object(Y.jsx)("div",{className:le.a.formCheckbox,children:Object(Y.jsxs)("label",{className:le.a.formCheckboxLabel,htmlFor:"",children:[Object(fe.c)(le.a.formCheckboxInput,null,"rememberMe","checkbox",fe.a,[]),"remember me"]})}),a&&Object(Y.jsx)("img",{src:a,alt:""}),a&&Object(fe.c)(le.a.formItemInput,"captcha","captcha","text",fe.a,[]),Object(Y.jsx)("div",{className:le.a.formItem,children:Object(Y.jsx)("button",{className:le.a.formLoginButton,children:"Login"})}),n&&Object(Y.jsx)("div",{className:le.a.formControlError,children:n})]})})})),be=Object(p.b)((function(e){return{captchaUrl:e.auth.captchaUrl,isAuth:e.auth.isAuth}}),{login:function(e,t,n,a){return function(){var r=Object(x.a)(N.a.mark((function r(s){var o,c;return N.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,P.a.login(e,t,n,a);case 2:0===(o=r.sent).data.resultCode?s(U()):(10===o.data.resultCode&&s(E()),c=o.data.messages.length>0?o.data.messages[0]:"Some error",s(Object(k.a)("login",{_error:c})));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})((function(e){return e.isAuth?Object(Y.jsx)(f.a,{to:"/profile"}):Object(Y.jsx)("div",{children:Object(Y.jsx)(pe,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe,t.captcha)},captchaUrl:e.captchaUrl})})})),me=n(42),he=function(e){return function(t){return Object(Y.jsx)(r.Suspense,{fallback:Object(Y.jsx)(me.a,{}),children:Object(Y.jsx)(e,Object(v.a)({},t))})}},Oe=s.a.lazy((function(){return Promise.resolve().then(n.bind(null,144))})),ge=s.a.lazy((function(){return Promise.resolve().then(n.bind(null,146))})),_e=s.a.lazy((function(){return Promise.resolve().then(n.bind(null,145))})),xe=function(e){Object(l.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).catchAllUnhandledErrors=function(e,t){alert("Some error occured")},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp(),window.addEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"render",value:function(){return this.props.initialized?Object(Y.jsxs)("div",{className:"app-wrapper",children:[Object(Y.jsx)(X,{}),Object(Y.jsx)($,{}),Object(Y.jsx)("div",{className:"app-wrapper-content",children:Object(Y.jsxs)(f.d,{children:[Object(Y.jsx)(f.b,{exact:!0,path:"/",render:function(){return Object(Y.jsx)(f.a,{to:"/profile"})}}),Object(Y.jsx)(f.b,{path:"/login",render:function(){return Object(Y.jsx)(be,{})}}),Object(Y.jsx)(f.b,{path:"/profile/:userId?",render:he(Oe)}),Object(Y.jsx)(f.b,{path:"/dialogs",render:he(ge)}),Object(Y.jsx)(f.b,{path:"/users",render:he(_e)}),Object(Y.jsx)(f.b,{path:"/news",render:function(){return Object(Y.jsx)(ne,{})}}),Object(Y.jsx)(f.b,{path:"/music",render:function(){return Object(Y.jsx)(se,{})}}),Object(Y.jsx)(f.b,{path:"/settings",render:function(){return Object(Y.jsx)(ie,{})}}),Object(Y.jsx)(f.b,{path:"*",render:function(){return Object(Y.jsx)("div",{className:"pageNotFound",children:Object(Y.jsx)("p",{children:"404 NOT FOUND"})})}})]})})]}):Object(Y.jsx)(me.a,{})}}]),n}(s.a.Component),ve=Object(b.d)(f.g,Object(p.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(U());Promise.all([t]).then((function(){e({type:D})}))}}}))(xe),we=function(e){return Object(Y.jsx)(j.a,{basename:"/samurai-way-react",children:Object(Y.jsx)(p.a,{store:R,children:Object(Y.jsx)(ve,{})})})};c.a.render(Object(Y.jsx)(we,{}),document.getElementById("root")),a()},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"d",(function(){return v})),n.d(t,"c",(function(){return w})),n.d(t,"g",(function(){return N})),n.d(t,"e",(function(){return P})),n.d(t,"f",(function(){return k}));var a=n(19),r=n(41),s=n(4),o=n(9),c=n.n(o),i=n(16),u=n(30),l=n.p+"static/media/a1.32c1e9c8.png",d=n.p+"static/media/a2.5dd77984.png",f=n.p+"static/media/a3.b1ae6da1.png",j=n.p+"static/media/a4.32c56ea2.png",p="samurai-network/profile/SET_USER_PROFILE",b="samurai-network/profile/ADD-POST",m="samurai-network/profile/SET_STATUS",h="samurai-network/profile/DELETE_POST",O="samurai-network/profile/photo/SAVE_PHOTO_SUCCESS",g={postsData:[{id:1,avatar:l,message:"Hey, why nobody love me?",like:11,dislike:0},{id:2,avatar:d,message:"It's our new program! Hey!",like:9,dislike:1},{id:3,avatar:f,message:"Hi, It's my first post!",like:21,dislike:2}],profile:null,status:""},_=function(e){return{type:b,newPostText:e}},x=function(e){return{type:m,status:e}},v=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.b.getProfile(e);case 2:a=t.sent,n((r=a.data,{type:p,profile:r}));case 4:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.b.getStatus(e);case 2:a=t.sent,n(x(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},N=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.b.updateStatus(e);case 3:0===t.sent.data.resultCode&&n(x(e)),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},P=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.b.savePhoto(e);case 2:0===(a=t.sent).data.resultCode&&n((r=a.data.data.photos,{type:O,photos:r}));case 4:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}()},k=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n,a){var r,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a().auth.userId,t.next=3,i.b.saveProfile(e);case 3:if(0!==(s=t.sent).data.resultCode){t.next=8;break}n(v(r)),t.next=10;break;case 8:return n(Object(u.a)("edit-profile",{_error:s.data.messages[0]})),t.abrupt("return",Promise.reject(s.data.messages[0]));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:var n={id:4,avatar:j,message:t.newPostText,like:0,dislike:0};return Object(s.a)(Object(s.a)({},e),{},{postsData:[].concat(Object(r.a)(e.postsData),[n])});case m:return Object(s.a)(Object(s.a)({},e),{},{status:t.status});case p:return Object(s.a)(Object(s.a)({},e),{},{profile:t.profile});case h:return Object(s.a)(Object(s.a)({},e),{},{posts:e.postsData.filter((function(e){return e.id!==t.postId}))});case O:return Object(s.a)(Object(s.a)({},e),{},{profile:Object(s.a)(Object(s.a)({},e.profile),{},{photos:t.photos})});default:return e}}},36:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(e){if(!e)return"Field is required"},r=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}}},37:function(e,t,n){e.exports={title:"Dialogs_title__3oREp",dialogs:"Dialogs_dialogs__1rZ3k",dialogsItems:"Dialogs_dialogsItems__2cvy3",messagesItems:"Dialogs_messagesItems__1yMkL",messageNew:"Dialogs_messageNew__21xdy",messageNewTextarea:"Dialogs_messageNewTextarea__C3EkH",messageNewButton:"Dialogs_messageNewButton__2ljKT"}},42:function(e,t,n){"use strict";n(1);var a=n(112),r=n.n(a),s=n.p+"static/media/preloader.80c1dbfa.svg",o=n(0);t.a=function(e){return Object(o.jsx)("div",{className:r.a.container,children:Object(o.jsx)("div",{className:r.a.preloader,children:Object(o.jsx)("img",{src:s,alt:""})})})}},44:function(e,t,n){"use strict";n.d(t,"d",(function(){return _})),n.d(t,"e",(function(){return v})),n.d(t,"c",(function(){return w})),n.d(t,"b",(function(){return P})),n.d(t,"f",(function(){return k}));var a=n(19),r=n(41),s=n(4),o=n(9),c=n.n(o),i=n(16),u=function(e,t,n,a){return e.map((function(e){return e[n]===t?Object(s.a)(Object(s.a)({},e),a):e}))},l="samurai-network/follow/FOLLOW",d="samurai-network/follow/UNFOLLOW",f="samurai-network/users/SET_USERS",j="SET_CURRENT_PAGE",p="SET_TOTAL_USERS_COUNT",b="TOGGLE_IS_FETCHING",m="TOGGLE_IS_FOLLOWING_PROGRESS",h={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!0,followingInProgress:[]},O=function(e){return{type:l,userId:e}},g=function(e){return{type:d,userId:e}},_=function(e){return{type:j,currentPage:e}},x=function(e){return{type:b,isFetching:e}},v=function(e,t){return{type:m,isFetching:e,userId:t}},w=function(e,t){return function(){var n=Object(a.a)(c.a.mark((function n(a){var r;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(x(!0)),a(_(e)),n.next=4,i.d.getUsers(e,t);case 4:r=n.sent,a(x(!1)),a((o=r.items,{type:f,users:o})),a((s=r.totalCount,{type:p,count:s}));case 8:case"end":return n.stop()}var s,o}),n)})));return function(e){return n.apply(this,arguments)}}()},N=function(){var e=Object(a.a)(c.a.mark((function e(t,n,a,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(v(!0,n)),e.next=3,a(n);case 3:0===e.sent.data.resultCode&&t(r(n)),t(v(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),P=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=i.d.follow.bind(i.d),N(n,e,a,O);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},k=function(e){return function(){var t=Object(a.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=i.d.unfollow.bind(i.d),N(n,e,a,g);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(s.a)(Object(s.a)({},e),{},{users:u(e.users,t.userId,"id",{followed:!0})});case d:return Object(s.a)(Object(s.a)({},e),{},{users:u(e.users,t.userId,"id",{followed:!1})});case f:return Object(s.a)(Object(s.a)({},e),{},{users:t.users});case j:return Object(s.a)(Object(s.a)({},e),{},{currentPage:t.currentPage});case p:return Object(s.a)(Object(s.a)({},e),{},{totalUsersCount:t.count});case b:return Object(s.a)(Object(s.a)({},e),{},{isFetching:t.isFetching});case m:return Object(s.a)(Object(s.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(r.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}}},49:function(e,t,n){e.exports={header:"Header_header__1CGKd",logo:"Header_logo__ffv_d",loginBlock:"Header_loginBlock__2dPsT",logIn:"Header_logIn__3gRv0",loginLink:"Header_loginLink__2EMUY",logOutButton:"Header_logOutButton__2N3Z2"}},54:function(e,t,n){e.exports={posts:"MyPosts_posts__C8sZj",postsTitle:"MyPosts_postsTitle__3GbLg",postNew:"MyPosts_postNew__uCfe-",postNewTextarea:"MyPosts_postNewTextarea__1x2Ul",postNewButton:"MyPosts_postNewButton__12X_E"}},55:function(e,t,n){e.exports={message:"Post_message__2b4Q6",postItem:"Post_postItem__2prE8",buttonWrap:"Post_buttonWrap__1FYOy",buttonLike:"Post_buttonLike__27h0q"}},56:function(e,t,n){e.exports={paginator:"Paginator_paginator__3dEBj",pageNumber:"Paginator_pageNumber__1uYMU",selectedPage:"Paginator_selectedPage__3dzrA",paginatorButton:"Paginator_paginatorButton__22Whx"}},6:function(e,t,n){e.exports={header:"ProfileInfo_header__1MJ9f",description:"ProfileInfo_description__1FWdy",profilePhoto:"ProfileInfo_profilePhoto__3_yuI",mainPhoto:"ProfileInfo_mainPhoto__1uFrv",addPhotoWrap:"ProfileInfo_addPhotoWrap__18xG-",addPhotoInput:"ProfileInfo_addPhotoInput__3pr5A",addImageWrap:"ProfileInfo_addImageWrap__2MWCb",addPhotoLabel:"ProfileInfo_addPhotoLabel__2IVde",content:"ProfileInfo_content__leN5h",editProfileButton:"ProfileInfo_editProfileButton__1-Kp7",saveProfileButton:"ProfileInfo_saveProfileButton__1xJ-e",contentTitle:"ProfileInfo_contentTitle__1FFwa",contentItem:"ProfileInfo_contentItem__1XmK7",contentData:"ProfileInfo_contentData__26g3e",socialNetworkBlock:"ProfileInfo_socialNetworkBlock__1YzY-",socialNetworkTitle:"ProfileInfo_socialNetworkTitle__19qVi",contactTitle:"ProfileInfo_contactTitle__1JkHK",contactValue:"ProfileInfo_contactValue__3pWw7",contactItem:"ProfileInfo_contactItem__2P7r4",formItemInput:"ProfileInfo_formItemInput__2zlzX",formTextarea:"ProfileInfo_formTextarea__2SDl7",formCheckbox:"ProfileInfo_formCheckbox__186tK",formCheckboxLabel:"ProfileInfo_formCheckboxLabel__3OQ8a",formCheckboxInput:"ProfileInfo_formCheckboxInput__2uL4P",formControlError:"ProfileInfo_formControlError__10vku"}},69:function(e,t,n){e.exports={formControl:"FormsControls_formControl__3TUBZ",error:"FormsControls_error__tEsmo",formControlError:"FormsControls_formControlError__3_K2f",formControlChild:"FormsControls_formControlChild__2Yrl_"}},86:function(e,t,n){"use strict";n.d(t,"b",(function(){return c}));var a=n(41),r=n(4),s="SEND-MESSAGE",o={dialogsData:[{id:1,name:"Oleh"},{id:2,name:"Hanna"},{id:3,name:"Iryna"},{id:4,name:"Serge"},{id:5,name:"Niklas"},{id:6,name:"Manuel"},{id:7,name:"Tomas"},{id:8,name:"Robert"}],messagesData:[{id:1e3,message:"Hi!!!"},{id:1001,message:"How are you?"},{id:1002,message:"Very well!"},{id:1003,message:"Yo"},{id:1004,message:"Yo"},{id:1005,message:"Yo"}]},c=function(e){return{type:s,newMessageBody:e}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;if(t.type===s){var n=t.newMessageBody;return Object(r.a)(Object(r.a)({},e),{},{messagesData:[].concat(Object(a.a)(e.messagesData),[{id:1006,message:n}])})}return e}},87:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(4),r=n(31),s=n(32),o=n(33),c=n(34),i=n(1),u=n.n(i),l=n(13),d=n(14),f=n(0),j=function(e){return{isAuth:e.auth.isAuth}},p=function(e){var t=function(t){Object(o.a)(i,t);var n=Object(c.a)(i);function i(){return Object(r.a)(this,i),n.apply(this,arguments)}return Object(s.a)(i,[{key:"render",value:function(){return this.props.isAuth?Object(f.jsx)(e,Object(a.a)({},this.props)):Object(f.jsx)(l.a,{to:"/login"})}}]),i}(u.a.Component);return Object(d.b)(j)(t)}},91:function(e,t,n){e.exports={status:"ProfileStatus_status__2GbXk",statusMode:"ProfileStatus_statusMode__2shht",statusInput:"ProfileStatus_statusInput__3Nrhd"}}},[[322,1,2]]]);
//# sourceMappingURL=main.0bc11cb0.chunk.js.map